<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Dovetail smart contracts modelling</title>
        
        <meta name="robots" content="noindex" />
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div id="sidebar-scrollbox" class="sidebar-scrollbox">
                <ol class="chapter"><li class="expanded affix "><a href="ch00-00-introduction.html">Introduction</a></li><li class="expanded "><a href="ch01-00-getting-started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="expanded "><a href="ch01-01-installation.html"><strong aria-hidden="true">1.1.</strong> Installation</a></li><li class="expanded "><a href="ch01-02-dovetail-cli.html"><strong aria-hidden="true">1.2.</strong> Dovetail CLI</a></li><li class="expanded "><a href="ch01-03-environment.html"><strong aria-hidden="true">1.3.</strong> Environment Prerequisites</a></li></ol></li><li class="expanded "><a href="ch02-00-labs.html"><strong aria-hidden="true">2.</strong> Labs</a></li><li><ol class="section"><li class="expanded "><a href="ch02-01-iou-tutorial.html"><strong aria-hidden="true">2.1.</strong> Corda IoU Tutorial</a></li><li><ol class="section"><li class="expanded "><a href="ch02-01-01-smart-contract.html"><strong aria-hidden="true">2.1.1.</strong> Smart Contract</a></li><li><ol class="section"><li class="expanded "><a href="ch02-01-01-01-model.html"><strong aria-hidden="true">2.1.1.1.</strong> Model Ledger Asset</a></li><li class="expanded "><a href="ch02-01-01-02-implement.html"><strong aria-hidden="true">2.1.1.2.</strong> Implement Smart Contract</a></li><li class="expanded "><a href="ch02-01-01-03-export.html"><strong aria-hidden="true">2.1.1.3.</strong> Export Smart Contract</a></li><li class="expanded "><a href="ch02-01-01-04-generate-corda.html"><strong aria-hidden="true">2.1.1.4.</strong> Generate Corda Artifacts</a></li></ol></li><li class="expanded "><a href="ch02-01-02-cordapp.html"><strong aria-hidden="true">2.1.2.</strong> Corda Distributed Application</a></li><li><ol class="section"><li class="expanded "><a href="ch02-01-02-01-charlie.html"><strong aria-hidden="true">2.1.2.1.</strong> Flows for charlie</a></li><li class="expanded "><a href="ch02-01-02-02-alice.html"><strong aria-hidden="true">2.1.2.2.</strong> Flows for alice</a></li><li class="expanded "><a href="ch02-01-02-03-bob.html"><strong aria-hidden="true">2.1.2.3.</strong> Flows for bob</a></li><li class="expanded "><a href="ch02-01-02-04-cordapp-gen.html"><strong aria-hidden="true">2.1.2.4.</strong> Generate Corda Artifacts</a></li></ol></li><li class="expanded "><a href="ch02-01-03-corda-client.html"><strong aria-hidden="true">2.1.3.</strong> Corda Client</a></li><li class="expanded "><a href="ch02-01-04-test-corda.html"><strong aria-hidden="true">2.1.4.</strong> Test on Corda</a></li><li><ol class="section"><li class="expanded "><a href="ch02-01-04-01-start-nodes.html"><strong aria-hidden="true">2.1.4.1.</strong> Start up nodes</a></li><li class="expanded "><a href="ch02-01-04-02-test-cases.html"><strong aria-hidden="true">2.1.4.2.</strong> Run test cases</a></li></ol></li></ol></li><li class="expanded "><a href="ch02-02-fabric-samples.html"><strong aria-hidden="true">2.2.</strong> Hyperledger Fabric Tutorials</a></li></ol></li><li class="expanded "><a href="ch03-00-contribute.html">Contribute</a></li><li class="expanded affix "><a href="ch04-00-source.html">Source Code</a></li><li class="expanded affix "><a href="ch05-00-community.html">Community</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Dovetail smart contracts modelling</h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p align="center">
  <img src ="images/TIBCO Labs final with TM2-08_email.png" />
</p>
<p align="center" >
  <b>Project Dovetail‚Ñ¢ is an Open Source tool for modelling blockchain smart contracts</b>
</p>
<p><a href="https://travis-ci.org/TIBCOSoftware/dovetail"><img src="https://travis-ci.org/TIBCOSoftware/dovetail.svg?branch=master" alt="Documentation Status" /></a><img src="https://img.shields.io/badge/license-BSD%20style-blue.svg"/></p>
<p align="center">
  <a href="ch00-00-introduction.html#project-dovetail">Dovetail‚Ñ¢</a> | <a href="ch00-00-introduction.html#dovetail-core">Architecture</a> | <a href="ch00-00-introduction.html#what-are-smart-contracts">Blockchains smart contracts</a> | <a href="ch00-00-introduction.html#contributing">Contributing</a> | <a href="ch00-00-introduction.html#license">License</a>
</p>
<br/>
<p>Developing blockchain solutions with today‚Äôs technology is challenging given the lack of tooling and standardization. Project Dovetail‚Ñ¢ by TIBCO LABS‚Ñ¢ addresses these issues by providing a graphical interface for modeling smart contracts, making them easier to write, visualize, test, and audit, all without deep programming experience. </p>
<p>Logic is abstracted from low-level code, and contracts can be developed for different blockchain stacks with little or no code. 
On-chain and off-chain computation can become more seamless, time to market is improved, and the risk of technology lock-in is reduced. Project Dovetail makes your smart contracts smarter. 
<br/></p>
<p align="center">
  <img src ="images/eventhandlers.png" />
</p>
<h1><a class="header" href="#what-are-smart-contracts" id="what-are-smart-contracts">What are Smart Contracts</a></h1>
<p>There are many definitions and descriptions of smart contracts, as each blockchain framework tends to implement this capability in its own way (if it does implement this feature at all). However, generally speaking, smart contracts (at least from an enterprise / permissioned perspective) may be thought of as application or business logic (defined in code) that runs within the context of a blockchain network itself.</p>
<p>The idea is to automate the processing of blockchain transactions across the network, use the logic to determine if a transaction will get written to the ledger, and to maintain accuracy, compliance, and trust.  In essence, smart contracts represent a method for controlling how changes are made to the underlying blockchain, in a non-centralized and (potentially) untrustworthy environment.  Supply chain transaction tracking, healthcare revenue cycle management, consumer contract execution, and government interactions are all areas in which smart contracts (business logic) may be applied.
Remember, however, that &quot;smart contracts&quot; are not necessarily &quot;smart&quot; (depends on the code) nor &quot;contracts&quot; (as they may not be viewed as legal contracts).  Thus, the term can be a bit misleading :)</p>
<h1><a class="header" href="#project-dovetail" id="project-dovetail">Project Dovetail</a></h1>
<p>Project Dovetail‚Ñ¢ is a framework that allows for the end to end design, development, testing, and deployment of blockchain smart contracts.  Project Dovetail‚Ñ¢ allows you to develop smart contracts based on a series of models, helping to:</p>
<ul>
<li><strong>Increase security</strong> since the modeling abstraction layer will allow for reusable and tested code derived from the model.</li>
<li><strong>Simplify</strong> development via an extendable abstraction layer (flow model)</li>
<li><strong>Decouple</strong> your code from the underlying blockchain technology</li>
<li><strong>Reduce</strong> the amount of code needed</li>
<li><strong>Increase visibility</strong> and audit-ability</li>
<li><strong>Allow customizable modeling</strong> for your industry</li>
<li><strong>Expose</strong> a better UI for the design of smart contracts</li>
</ul>
<h1><a class="header" href="#dovetail-core" id="dovetail-core">Dovetail Core</a></h1>
<p>Dovetail is based on TIBCO FLOGO‚Ñ¢, an event-driven app framework used to develop apps for the cloud &amp; IoT edge. It can also be thought of as a lightweight <em>app kernel</em> used by open source &amp; commercial solutions like Dovetail here. The trigger used is based on the cli to generate or transpile your smart contract logic into blockchain technologies languages : R3 Corda, HyperLedger Fabric...</p>
<p>Dovetail Core provides the following key benefits:</p>
<p>‚õì <strong>Action chaining</strong> enables communication between one or more capabilities in a single, sub 10MB binary!<br/>
üèó <strong>Common contribution model</strong> build activities and triggers that can be leveraged by all capabilities<br/>
üî® <strong>Extensible</strong> easily extend the capabilities available by building your own action using the common interfaces<br/></p>
<h2><a class="header" href="#dovetail-core-contribution-model" id="dovetail-core-contribution-model">Dovetail Core Contribution Model</a></h2>
<p>Dovetail‚Ñ¢ Core exposes three principal contribution interfaces that enable developers to build common capabilities and functionality. These contribution interfaces include:</p>
<ul>
<li><strong>Connector Interface</strong> a common interface for importing predefined schemas into Dovetail, Hyperledger Composer Connector is an example.</li>
<li><strong>Trigger Interface</strong> a common interface for building event-consumers that dispatch events to one or more actions. The Smart Contract TXN Trigger is an example of a trigger.</li>
<li><strong>Activity Interface</strong> a common interface for exposing common application logic in a reusable manner. Think of this as a function, such as write to ledger, publish events, etc that can be used by all Dovetail apps.</li>
</ul>
<h1><a class="header" href="#dovetail-flows" id="dovetail-flows">Dovetail Flows</a></h1>
<p>Dovetail Flows provides smart contract logic design capabilities and includes the following key highlights.</p>
<p>üåà <strong>Painless development</strong> Visual modeler with step-back debugging capabilities &amp; elegant DSL<br/>
‚öôÔ∏è <strong>Ultra-light process engine</strong> for conditional flow control</p>
<h3><a class="header" href="#zero-code-developers" id="zero-code-developers">Zero-code Developers</a></h3>
<p>If your background is in or you prefer to develop your smart contracts using zero-coding environments, then read on, because we‚Äôve got something special for you.</p>
<p>Flows Web UI is available via <a href="https://github.com/TIBCOSoftware/dovetail/releases">Dovetail releases page</a>.</p>
<p>To report any issues with the Issue tracker on this project.</p>
<h1><a class="header" href="#dovetail-documentation" id="dovetail-documentation">Dovetail Documentation</a></h1>
<p>Dovetail documentation can be found on the <a href="https://tibcosoftware.github.io/dovetail/">documentation page</a> and the source code in the <a href="https://github.com/TIBCOSoftware/dovetail">github page</a>.</p>
<h1><a class="header" href="#contributing" id="contributing">Contributing</a></h1>
<p>Want to contribute to Project Dovetail? We've made it easy, all you need to do is fork the repository you intend to contribute to, make your changes and create a Pull Request! Once the pull request has been created, you'll be prompted to sign the CLA (Contributor License Agreement) online.</p>
<p>Not sure where to start? No problem, here are a few suggestions:</p>
<ul>
<li><a href="https://github.com/TIBCOSoftware/dovetail-contrib">dovetail-contrib</a>: This repository contains all of the contributions, such as activities, triggers, etc. Perhaps there is something missing? Create a new activity or trigger or fix a bug in an existing activity or trigger.</li>
<li>Browse all of the Project Dovetail repositories and look for issues tagged <code>kind/help-wanted</code> or <code>good first issue</code></li>
</ul>
<p>If you have any questions, feel free to post an issue and tag it as a question or email <a href="mailto:tibcolabs@tibco.com">tibcolabs@tibco.com</a>. </p>
<p>For additional details, refer to the <a href="https://github.com/TIBCOSoftware/dovetail/blob/master/CONTRIBUTING.md">‚ÄúContribution Guidelines‚Äù</a>.</p>
<h1><a class="header" href="#license" id="license">License</a></h1>
<p>The top level flogo repo, consisting of flow samples &amp; documentation, is licensed licensed under a BSD-style license. Refer to <a href="https://github.com/TIBCOSoftware/dovetail/blob/master/LICENSE">LICENSE</a> for license text.</p>
<p>Dovetail source code in <a href="https://github.com/TIBCOSoftware/dovetail-cli">dovetail-cli</a>, <a href="https://github.com/TIBCOSoftware/dovetail-contrib">dovetail-contrib</a>, <a href="https://github.com/TIBCOSoftware/dovetail-java-lib">dovetail-java-lib</a> are all licensed under a BSD-style license, refer to <a href="https://github.com/TIBCOSoftware/dovetail/blob/master/LICENSE">LICENSE</a> </p>
<h1><a class="header" href="#getting-started" id="getting-started">Getting Started</a></h1>
<p>Let‚Äôs start your Dovetail journey! There‚Äôs a lot to learn, but every journey starts
somewhere. In this chapter, we‚Äôll discuss:</p>
<ul>
<li>Installing Dovetail Studio on Linux, macOS, and Windows</li>
<li>Installing Dovetail CLI</li>
<li>Development environment dependencies</li>
</ul>
<h2><a class="header" href="#installing-the-project-dovetail-studio" id="installing-the-project-dovetail-studio">Installing the Project Dovetail Studio</a></h2>
<p>Installing the Project Dovetail Studio is quite simple just follow these steps:</p>
<p>1.- Download the latest version for your os architecture and your blockchain target.</p>
<blockquote>
<p>You can find the latest release <a href="https://github.com/TIBCOSoftware/dovetail/releases/latest">here</a></p>
</blockquote>
<p>Or you can just execute this commands</p>
<blockquote>
<p>For Hyperledger fabric development:</p>
</blockquote>
<pre><code>mkdir dovetail_installation
cd dovetail_installation
curl -OL https://github.com/TIBCOSoftware/dovetail/releases/download/v0.2.0/TIB_dovetail-fabric_0.2.0_macosx_x86_64.zip
</code></pre>
<blockquote>
<p>For R3 Corda development:</p>
</blockquote>
<pre><code>mkdir dovetail_installation
cd dovetail_installation
curl -OL https://github.com/TIBCOSoftware/dovetail/releases/download/v0.2.0/TIB_dovetail-corda_0.2.0_macosx_x86_64.zip
</code></pre>
<blockquote>
<p>For Multitarget development:</p>
</blockquote>
<pre><code>mkdir dovetail_installation
cd dovetail_installation
curl -OL https://github.com/TIBCOSoftware/dovetail/releases/download/v0.2.0/TIB_dovetail-multitarget_0.2.0_macosx_x86_64.zip
</code></pre>
<p>2.- Unzip the downloaded release (for example on mac) (from dovetail_installation folder).</p>
<pre><code>unzip TIB_dovetail-fabric_0.2.0_macosx_x86_64.zip
</code></pre>
<h2><a class="header" href="#starting-dovetail-studio" id="starting-dovetail-studio">Starting Dovetail Studio</a></h2>
<p>To get started with your downloaded version of the Dovetail Studio in the previous step just do the following:</p>
<p>1.- Run studio</p>
<pre><code>dovetail/0.2/bin/run-studio.sh eula-accept
</code></pre>
<h2><a class="header" href="#launching-dovetail-studio" id="launching-dovetail-studio">Launching Dovetail Studio</a></h2>
<p>To launch Dovetail Studio simply open your favorite web browser, and navigate to http://localhost:8090. You'll see the initial page to create your first smart contract!</p>
<h2><a class="header" href="#installation-tutorial-video" id="installation-tutorial-video">Installation Tutorial Video</a></h2>
<video width="480" height="320" controls="controls">
    <source src="videos/dovetail_studio_install.mp4" type="video/mp4">
</video><h2><a class="header" href="#introduction" id="introduction">Introduction</a></h2>
<p>The dovetail cli is a tool to mainly generate smart contracts for a given model built using ui tool <a href="ch01-01-installation.html">Dovetail Studio</a>, so we recommend you to learn how to do that first.</p>
<h2><a class="header" href="#before-you-get-started" id="before-you-get-started">Before you get started</a></h2>
<p>Before you can get started with the cli tools you need to make sure you have the <a href="https://golang.org/doc/install">Go programming language</a> and <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">git</a> installed. Go v1.13.x is required.</p>
<blockquote>
<p>Don't forget to set your <code>GOPATH</code> variable and make sure that <code>$GOPATH/bin</code> is part of your <code>PATH</code>
(see <a href="https://golang.org/doc/code.html#GOPATH">here</a> or <a href="https://github.com/golang/go/wiki/SettingGOPATH">here</a> for more details)</p>
</blockquote>
<h2><a class="header" href="#installing-the-cli-tools" id="installing-the-cli-tools">Installing the cli tools</a></h2>
<p>Copy and paste the following commands to install Project Dovetail‚Ñ¢ commandline tool.</p>
<pre><code>curl https://github.com/TIBCOSoftware/dovetail-cli/releases/download/v0.2.0/dovetail-cli-install.sh -sSfL v0.2.0 | sh
</code></pre>
<blockquote>
<p>The binary dovetail will be in your dovetail-cli/bin directory.
You can add /path/to/dovetail-cli/bin/dovetail to your PATH env variable for easier access. </p>
</blockquote>
<h2><a class="header" href="#installation-tutorial-video-1" id="installation-tutorial-video-1">Installation Tutorial Video</a></h2>
<video width="480" height="320" controls="controls">
    <source src="videos/dovetail_cli_install.mp4" type="video/mp4">
</video>
<h2><a class="header" href="#dovetail-studio-requirements" id="dovetail-studio-requirements">Dovetail Studio Requirements</a></h2>
<h3><a class="header" href="#docker" id="docker">Docker</a></h3>
<p>Docker is needed to run Dovetail Studio, you can find the installation details here:</p>
<ul>
<li><a href="https://docs.docker.com/">Docker</a></li>
<li><a href="https://docs.docker.com/compose/install/">Docker Compose</a></li>
</ul>
<h2><a class="header" href="#hyperledger-fabric-requirements" id="hyperledger-fabric-requirements">Hyperledger Fabric Requirements</a></h2>
<h3><a class="header" href="#hyperledger-fabric-sdk" id="hyperledger-fabric-sdk">Hyperledger Fabric SDK</a></h3>
<p>If you are developing for Hyperledger Fabric, below is a link to its installation instructions.</p>
<ul>
<li><a href="https://hyperledger-fabric.readthedocs.io/en/release-1.3/install.html">Hyperledger Fabric</a></li>
</ul>
<h2><a class="header" href="#r3-corda-requirements" id="r3-corda-requirements">R3 Corda Requirements</a></h2>
<h3><a class="header" href="#java-programming-language-and-tools" id="java-programming-language-and-tools">Java Programming Language and Tools</a></h3>
<p>If you are developing for R3 Corda you will need Java runtime.</p>
<ul>
<li>IMPORTANT: <a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html">Java SE Development Kit 8</a> is required</li>
<li><a href="https://maven.apache.org/install.html">Maven</a></li>
</ul>
<p>If you are developing for R3 Corda, following jars must be available in your local or public Maven Repository.</p>
<pre><code>    &lt;dependency&gt;
        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;
        &lt;artifactId&gt;kotlin-stdlib-jre8&lt;/artifactId&gt;
        &lt;version&gt;1.1.60&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;net.corda&lt;/groupId&gt;
        &lt;artifactId&gt;corda-core&lt;/artifactId&gt;
        &lt;version&gt;[2.0.0,)&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;net.corda&lt;/groupId&gt;
        &lt;artifactId&gt;corda-finance&lt;/artifactId&gt;
        &lt;version&gt;[2.0.0,)&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.tibco.dovetail&lt;/groupId&gt;
        &lt;artifactId&gt;dovetail-corda&lt;/artifactId&gt;
        &lt;version&gt;[0.2.0, )&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre>
<blockquote>
<p>Project Dovetail‚Ñ¢ library for R3 Corda is available <a href="https://github.com/TIBCOSoftware/dovetail-contrib/releases/download/v0.2.0/dovetail-corda-0.2.0.jar">here</a>, run following command to install it to your local Maven repository</p>
</blockquote>
<pre><code>mkdir dovetail_corda
cd dovetail_corda
curl -OL https://github.com/TIBCOSoftware/dovetail-contrib/releases/download/v0.2.0/dovetail-corda-0.2.0.jar
mvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -DgeneratePom=true -DgroupId=com.tibco.dovetail -DartifactId=dovetail-corda -Dversion=0.2.0 -Dfile=dovetail_corda_v0.2.0.jar -Dpackaging=jar
</code></pre>
<h2><a class="header" href="#labs" id="labs">Labs</a></h2>
<p>These labs provide you with guides, tutorials and code samples and will help you work through building and deploying Dovetail smart contracts.</p>
<h2><a class="header" href="#corda-iou-smart-contract-tutorial" id="corda-iou-smart-contract-tutorial">Corda IOU Smart Contract Tutorial</a></h2>
<p>In this tutorial, we will walk you through the steps to model and implement smart contracts and dapps for R3 Corda using Dovetail Studio, then we will use Dovetail CLI to generate runtime artifacts, and also generate RPC client with REST API interfaces for external integration, finally we will use Swagger UI to run some test cases.</p>
<p>The example is a simple &quot;I owe you&quot; use case, the issuer of an IOU is obligated to pay the owner of the IOU amount issued, the ownership of the IOU can be transferred by current owner, and all transactions will be recorded on the ledger.</p>
<p>Before getting started, you should have <a href="ch01-01-installation.html">Project Dovetail‚Ñ¢ Studio</a> and <a href="ch01-02-dovetail-cli.html">Project Dovetail‚Ñ¢ CLI</a> installed, and your <a href="ch01-03-environment.html">development environment setup</a>.</p>
<p>If you have Tibco Cloud subscription or Enterprise Flogo studio, you can also upload Dovetail extentions to start smart contract and dapp development. the extensions are included in the corda.zip (see below) under artifacts/studio folder.</p>
<p>Follow these steps to create the empty structure of the tutorial:</p>
<blockquote>
<ul>
<li>Create the tutorial initial structure</li>
</ul>
</blockquote>
<ul>
<li>iou_tutorials
<ul>
<li>artifacts</li>
<li>cli</li>
<li>network
<ul>
<li>corda</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>mkdir -p iou_tutorial/artifacts
mkdir -p iou_tutorial/cli
mkdir -p iou_tutorial/network/corda
</code></pre>
<h2><a class="header" href="#copy-iou-network-nodes-and-scripts" id="copy-iou-network-nodes-and-scripts">Copy IOU network nodes and scripts</a></h2>
<p>corda.zip has pre-implemented and generated artifacts, nodes and scripts that will help you to get the corda network up and running.</p>
<pre><code>curl -OL https://TIBCOSoftware.github.io/dovetail/tutorials/iou/corda.zip &amp;&amp; \
unzip corda.zip &amp;&amp; \
rm corda.zip
</code></pre>
<ul>
<li>copy extracted network/corda/* to your network/corda folder</li>
<li>copy extracted cli/* to your cli folder</li>
</ul>
<h2><a class="header" href="#1-iou-smart-contract" id="1-iou-smart-contract">1. IOU Smart Contract</a></h2>
<p>In this section we will show step by step instructions to model and implement IOU smart contract: IOU can be issued, transferred and then settled.</p>
<h2><a class="header" href="#iou-smart-contract-data-model" id="iou-smart-contract-data-model">IOU Smart Contract Data Model</a></h2>
<p>Define contract state data schema that should be stored on the ledger</p>
<p><video width="480" height="320" controls="controls">
    <source src="videos/iou_asset_schema.mp4" type="video/mp4">
</video></p>
<ul>
<li>Start up and open Dovetail Studio WebUI</li>
<li>Go to Connection tab</li>
<li>Click &quot;Add Connection&quot;
<ul>
<li>Choose &quot;Define Ledger Asset Schema&quot; from the list</li>
<li>Enter display name, e.g. &quot;my first IOU&quot;</li>
<li>Enter asset name &quot;IOU&quot;</li>
<li>Enter module name &quot;com.example.iou&quot;</li>
<li>Select asset type &quot;Linear State&quot;
<ul>
<li>LinearId attribute will be automatically added to the pre-defined fields</li>
</ul>
</li>
<li>Enter addition fields
<ul>
<li>issuer, select &quot;Party&quot; from the type dropdown menu</li>
<li>holder, select &quot;Party&quot; from the type dropdown menu</li>
<li>amt, select &quot;Amount<Courrency>&quot; from the type dropdown menu</li>
</ul>
</li>
<li>Define party roles
<ul>
<li>add &quot;issuer&quot;, leave other fields as default</li>
<li>add &quot;holder&quot;, leave other fields as default</li>
</ul>
</li>
<li>Click &quot;Donee&quot; button</li>
</ul>
</li>
</ul>
<h2><a class="header" href="#implement-iou-smart-contract" id="implement-iou-smart-contract">Implement IOU Smart Contract</a></h2>
<p>In this step, we will walk you through step by step the implementation of IOU smart contract transactions: IssueIOU, TransferIOU and SettleIOU.</p>
<p><video width="480" height="320" controls="controls">
    <source src="videos/iou_smart_contract_impl.mp4" type="video/mp4">
</video></p>
<h3><a class="header" href="#1-issueiou-transaction" id="1-issueiou-transaction">1 IssueIOU Transaction*</a></h3>
<ul>
<li>
<p>Go to Apps Tab &gt; Create to create a new Application &quot;IOU&quot;</p>
</li>
<li>
<p>Create a flow </p>
<ul>
<li>flow name &quot;IssueIOU&quot; &gt;</li>
<li>Add a trigger, select &quot;SmartContract Action Trigger&quot; from the list
<ul>
<li>Select &quot;IOU&quot; from the dropdown menu</li>
<li>Click &quot;Next&quot; and &quot;Next&quot; to get to &quot;Define Transaction Input&quot; section, security and time window are not supported for Corda smart contract</li>
<li>Add input fields
<ul>
<li>linearId, select &quot;LinearId&quot; from type dropdown menu</li>
<li>issuer, select &quot;Party&quot; from type dropdown menu</li>
<li>holder, select &quot;Party&quot; from type dropdown menu</li>
<li>amt, select &quot;Amount<Currency>&quot; from type dropdown menu</li>
<li>click &quot;Next&quot;</li>
</ul>
</li>
<li>Add output fields, leave this blank, click &quot;Continue&quot;</li>
<li>Select &quot;Copy Schema&quot;</li>
</ul>
</li>
<li>Select the trigger
<ul>
<li>Map to flow inputs</li>
</ul>
</li>
<li>Now we will implement the flow
<ul>
<li>Add &quot;Ledger Operation&quot; activity from Dovetail-Ledger category</li>
<li>Map input</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><a class="header" href="#2-transferiou-transaction" id="2-transferiou-transaction">2 TransferIOU Transaction*</a></h3>
<ul>
<li>Create a new flow to implement TransferIOU transaction
<ul>
<li>Add a trigger, select &quot;SmartContract Action Trigger&quot; from the list
<ul>
<li>Select &quot;IOU&quot; from the dropdown menu</li>
<li>Click &quot;Next&quot; and &quot;Next&quot; to get to &quot;Define Transaction Input&quot; section, security and time window are not supported for Corda smart contract</li>
<li>Add input fields
<ul>
<li>iou, select &quot;AssetRef&quot; from Type dropdown menu, enter &quot;com.example.iou.IOU&quot; in the RecordType field, select &quot;True&quot; from Consuming dropdown menu</li>
<li>newHolder, select &quot;Party&quot; from type dropdown menu</li>
<li>click &quot;Next&quot;</li>
</ul>
</li>
<li>Add output fields, leave this blank, click &quot;Continue&quot;</li>
<li>Select &quot;Copy Schema&quot;</li>
</ul>
</li>
<li>Select the trigger
<ul>
<li>Map to flow inputs</li>
</ul>
</li>
<li>Now we will implement the flow
<ul>
<li>Add &quot;Ledger Operation&quot; activity from Dovetail-Ledger category</li>
<li>Map input</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><a class="header" href="#3-settleiou-transaction" id="3-settleiou-transaction">3 SettleIOU Transaction*</a></h3>
<ul>
<li>Create a new flow to implement SettleIOU transaction
<ul>
<li>Add a trigger, select &quot;SmartContract Action Trigger&quot; from the list
* Select &quot;IOU&quot; from the dropdown menu
* Click &quot;Next&quot; and &quot;Next&quot; to get to &quot;Define Transaction Input&quot; section, security and time window are not supported for Corda smart contract
* Add input fields
* iou, select &quot;AssetRef&quot; from Type dropdown menu, enter &quot;com.example.iou.IOU&quot; in the RecordType field, select &quot;True&quot; from Consuming dropdown menu
* funds, select &quot;AssetRef<Cash>&quot; from Type dropdown menu, select &quot;True&quot; from Consuming dropdown menu, select &quot;True&quot; from Repeating dropdown menu
* click &quot;Next&quot;
* Add output fields, leave this blank, click &quot;Continue&quot;
* Select &quot;Copy Schema&quot;
<ul>
<li>Select the trigger
<ul>
<li>Map to flow inputs</li>
</ul>
</li>
<li>Now we will implement the flow
<ul>
<li>Add &quot;Payment Processor&quot; activity from Dovetail-Ledger category</li>
<li>Map input</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="header" href="#export-iou-smart-contract-application" id="export-iou-smart-contract-application">Export IOU Smart Contract Application</a></h2>
<blockquote>
<ul>
<li>Go to IOU application</li>
<li>Click on &quot;Export app&quot; button, save the file IOU.json to the artifacts folder inside iou_tutorial</li>
</ul>
</blockquote>
<p>The exported json file will be used to generate Corda ContractState and Contract, and it is also used to facilitate the implementation of CorDapp flows.</p>
<h2><a class="header" href="#generate-corda-artifacts" id="generate-corda-artifacts">Generate Corda Artifacts</a></h2>
<blockquote>
<ul>
<li>Maven should be installed on your system, and mvn is in your PATH</li>
<li>Dovetail CLI should installed and in your PATH, it is also included in the cli folder in the corda.zip file (for mac only)</li>
<li>Latest relese of dovetail-corda-x.x.x.jar should be installed to your local maven repo, it is also included in corda.zip, you can run cli/mvninstall.sh to install the jar file</li>
</ul>
</blockquote>
<p>Run following command from iou_tutorial directory, R3 Corda contract  kotlin-IOUContract-1.0.0.jar is generated and written to artifacts/corda/iou folder, and installed in your local maven repository.</p>
<pre><code>cd iou_tutorial
dovetail corda contract generate -m artifacts/IOU.json -v 1.0.0 -t artifacts/corda --namespace com.example.iou
</code></pre>
<h2><a class="header" href="#develop-corda-distributed-application" id="develop-corda-distributed-application">Develop Corda Distributed Application</a></h2>
<h3><a class="header" href="#1-parties-and-roles-for-the-network" id="1-parties-and-roles-for-the-network">1 Parties and Roles for the network</a></h3>
<p>For this tutorial, the story line is party &quot;charlie&quot; issues an IOU to party &quot;alice&quot;, party &quot;alice&quot; then transfers the IOU to party &quot;bob&quot;, finally party &quot;charlie&quot; settles the IOU with party &quot;bob&quot;. party &quot;bank&quot; is the cash issuer.</p>
<p>Below the are the dapp flows each party should implement:</p>
<ul>
<li>charlie is the IOU issuer
<ul>
<li>Implement IssueIOU initiating flow</li>
<li>Implememt TransferIOU receiving flow</li>
<li>Implement SettleIOU initiating flow</li>
</ul>
</li>
<li>alice is the original IOU holder, and will transfer the IOU to bob
<ul>
<li>Implement IssueIOU receiving flow</li>
<li>Implement TransferIOU initiating flow</li>
</ul>
</li>
<li>bob is the new IOU holder
<ul>
<li>Implement TransferIOU receiving flow</li>
<li>Implement SettleIOU receiving flow</li>
</ul>
</li>
<li>bank is the cash issuer
<ul>
<li>Will use Corda CashIssueAndPayment flow to issue cash to charlie</li>
</ul>
</li>
</ul>
<h3><a class="header" href="#2-import-smart-contract" id="2-import-smart-contract">2. Import Smart Contract</a></h3>
<p>Before we start implementing the flows, Dovetail needs to know the smart contract transactions and the input parameters of each transaction.</p>
<ul>
<li>Go to Connection tab 
<ul>
<li>Add Connection </li>
<li>Select &quot;Import Dovetail Contract&quot;</li>
<li>Enter name &quot;IOUContract&quot;</li>
<li>Browse and select artifacts/iou.json file</li>
<li>Click &quot;Done&quot;</li>
</ul>
</li>
</ul>
<h2><a class="header" href="#cordapp-for-charlie" id="cordapp-for-charlie">CorDapp for charlie</a></h2>
<p>Step by step instructions to create distributed application &quot;charlie&quot; for party charlie.</p>
<p><video width="480" height="320" controls="controls">
    <source src="videos/charlie.mp4" type="video/mp4">
</video></p>
<h3><a class="header" href="#1-issueiou-initiator-flow" id="1-issueiou-initiator-flow">1. IssueIOU initiator flow</a></h3>
<ul>
<li>Create a flow 
<ul>
<li>flow name: IssueIOUInitiator</li>
<li>add a trigger : select &quot;Dovetail CorDApp Flow Initiator&quot; from the list
<ul>
<li>select false for &quot;Use confidential identities for this transaction?&quot;</li>
<li>select false for &quot;Send transactions to observers?&quot;</li>
<li>click &quot;Next&quot; button</li>
<li>add following flow input parameters
<ul>
<li>holder :    Type = Party, PartyRole = Participant</li>
<li>amt:        Type = Amount<Currency> </li>
<li>extId:      Type = String</li>
</ul>
</li>
<li>click &quot;Continue&quot; button</li>
<li>select &quot;Copy Schema&quot;</li>
<li>select the trigger, and map flow input</li>
</ul>
</li>
<li>implement IssueIOUInitiator flow
<ul>
<li>select BuildTransactoinProposal activity from Dovetail-CorDApp category</li>
<li>select &quot;IOUContract:&quot; from contract dropdown</li>
<li>select com.example.iou.IssueIOU from transaction dropdown</li>
<li>map the activity input
<ul>
<li>use cordapp.createLinearIdFromExternalId($flow.transactionInput.extId) to map iou.linearId</li>
</ul>
<blockquote>
<ul>
<li>You will see an error at design time for this function, ignore the error for now, it is supported at runtime</li>
</ul>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><a class="header" href="#2-transferiou-receiver-flow" id="2-transferiou-receiver-flow">2. TransferIOU receiver flow</a></h3>
<ul>
<li>Create a flow 
<ul>
<li>flow name: TransferIOUResponder</li>
<li>select trigger : Dovetail CorDApp Flow Receiver
<ul>
<li>select receiver from flow type dropdown</li>
<li>select false for &quot;Use confidential identities for this transaction?&quot;</li>
<li>initiator flow name: com.alice.iou.flows.TransferIOUInitiator</li>
<li>click &quot;Continue&quot; button</li>
<li>select &quot;Copy Schema&quot;</li>
<li>select the trigger, and map flow input</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><a class="header" href="#3-settleiou-initiator-flow" id="3-settleiou-initiator-flow">3. SettleIOU initiator flow</a></h3>
<ul>
<li>Create a flow 
<ul>
<li>flow name: SettleIOUInitiator</li>
<li>select trigger : Dovetail CorDApp Flow Initiator
<ul>
<li>select false for &quot;Use confidential identities for this transaction?&quot;</li>
<li>select false for &quot;Send transactions to observers?&quot;</li>
<li>click &quot;Next&quot; button</li>
<li>add following flow input parameters
<ul>
<li>iouId : Type = LinearId</li>
</ul>
</li>
<li>click &quot;Continue&quot; button</li>
<li>select &quot;Copy Schema&quot;</li>
<li>select the trigger, and map flow input</li>
</ul>
</li>
<li>Implement SettleIOUInitiator flow
<ul>
<li>add SimpleVaultQuery activity from Dovetail-CorDApp category
<ul>
<li>Configuration screen
<ul>
<li>select IOU from asset dropdow</li>
<li>Map input</li>
</ul>
</li>
</ul>
</li>
<li>if IOU is found
* add CashWallet activity from Dovetail-CorDApp category
* Select &quot;Retrieve Funds&quot; from dropdown
* Map input
* add BuildTransactoinProposal Dovetail-CorDApp category
* select IOU from contract dropdown
* select com.example.iou.SettleIOU from transaction dropdown
* map the activity input</li>
<li>otherwise throw error</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><a class="header" href="#4-export-the-charlie-applicatio" id="4-export-the-charlie-applicatio">4. Export the &quot;charlie&quot; applicatio</a></h3>
<p>export the application to artifiacts/charlie.json</p>
<h2><a class="header" href="#cordapp-for-alice" id="cordapp-for-alice">CorDapp for alice</a></h2>
<p>Step by step instructions to create distributed application &quot;alice&quot; for party alice.</p>
<p><video width="480" height="320" controls="controls">
    <source src="videos/alice.mp4" type="video/mp4">
</video></p>
<h3><a class="header" href="#1-issueiou-receiver-flow" id="1-issueiou-receiver-flow">1. IssueIOU receiver flow</a></h3>
<ul>
<li>Create a flow 
<ul>
<li>Create a flow </li>
<li>flow name: IssueIOUResponder</li>
<li>select trigger : Dovetail CorDApp Flow Receiver
<ul>
<li>select receiver from flow type dropdown</li>
<li>select false for &quot;Use confidential identities for this transaction?&quot;</li>
<li>initiator flow name: com.charlie.iou.flows.IssueIOUInitiator</li>
<li>click &quot;Continue&quot; button</li>
<li>select &quot;Copy Schema&quot;</li>
<li>select the trigger, and map flow input</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><a class="header" href="#2-transferiou-initiator-flow" id="2-transferiou-initiator-flow">2. TransferIOU initiator flow</a></h3>
<ul>
<li>flow name: TransferIOUInitiator
<ul>
<li>add a trigger : select &quot;Dovetail CorDApp Flow Initiator&quot; from the list
<ul>
<li>select false for &quot;Use confidential identities for this transaction?&quot;</li>
<li>select false for &quot;Send transactions to observers?&quot;</li>
<li>click &quot;Next&quot; button</li>
<li>add following flow input parameters
<ul>
<li>iouId :    Type = LinearId</li>
<li>newHolder: Type = Party, PartyRole = Participant</li>
</ul>
</li>
<li>click &quot;Continue&quot; button</li>
<li>select &quot;Copy Schema&quot;</li>
<li>select the trigger, and map flow input</li>
</ul>
</li>
<li>implement TransferIOUInitiator flow
<ul>
<li>add SimpleVaultQuery activity from Dovetail-CorDApp category
<ul>
<li>Configuration screen
<ul>
<li>select IOU from asset dropdow</li>
<li>Map input</li>
</ul>
</li>
</ul>
</li>
<li>if IOU is found
<ul>
<li>add BuildTransactoinProposal activity from Dovetail-CorDApp category
<ul>
<li>select &quot;IOUContract:&quot; from contract dropdown</li>
<li>select com.example.iou.TransferIOU from transaction dropdown</li>
<li>map the activity input</li>
</ul>
</li>
</ul>
</li>
<li>otherwise throw error</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><a class="header" href="#3-export-the-alice-applicatio" id="3-export-the-alice-applicatio">3. Export the &quot;alice&quot; applicatio</a></h3>
<p>export the application to artifiacts/alice.json</p>
<h2><a class="header" href="#cordapp-for-bob" id="cordapp-for-bob">CorDapp for bob</a></h2>
<p>Step by step instructions to create distributed application &quot;bob&quot; for party bob.</p>
<p><video width="480" height="320" controls="controls">
    <source src="videos/bob.mp4" type="video/mp4">
</video></p>
<h3><a class="header" href="#1-transferiou-receiver-flow" id="1-transferiou-receiver-flow">1. TransferIOU receiver flow</a></h3>
<ul>
<li>Create a flow 
<ul>
<li>Create a flow </li>
<li>flow name: TransferIOUResponder</li>
<li>select trigger : Dovetail CorDApp Flow Receiver
<ul>
<li>select receiver from flow type dropdown</li>
<li>select false for &quot;Use confidential identities for this transaction?&quot;</li>
<li>initiator flow name: com.alice.iou.flows.TransferIOUInitiator</li>
<li>click &quot;Continue&quot; button</li>
<li>select &quot;Copy Schema&quot;</li>
<li>select the trigger, and map flow input</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><a class="header" href="#2-settleiou-receiver-flow" id="2-settleiou-receiver-flow">2. SettleIOU receiver flow</a></h3>
<ul>
<li>Create a flow 
<ul>
<li>Create a flow </li>
<li>flow name: SettleIOUResponder</li>
<li>select trigger : Dovetail CorDApp Flow Receiver
<ul>
<li>select receiver from flow type dropdown</li>
<li>select false for &quot;Use confidential identities for this transaction?&quot;</li>
<li>initiator flow name: com.charlie.iou.flows.SettleIOUInitiator</li>
<li>click &quot;Continue&quot; button</li>
<li>select &quot;Copy Schema&quot;</li>
<li>select the trigger, and map flow input</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><a class="header" href="#3-export-the-bob-applicatio" id="3-export-the-bob-applicatio">3. Export the &quot;bob&quot; applicatio</a></h3>
<p>export the application to artifiacts/bob.json</p>
<h2><a class="header" href="#generate-cordapp-artifacts" id="generate-cordapp-artifacts">Generate CorDapp artifacts</a></h2>
<h3><a class="header" href="#1-export-cordapp-flows" id="1-export-cordapp-flows">1. Export CorDapp flows</a></h3>
<blockquote>
<ul>
<li>Export charlie application as charlie.json to artifacts/ folder</li>
<li>Export alice application as alice.json to artifacts/ folder</li>
<li>Export bob application as bob.json to artifacts/ folder</li>
</ul>
</blockquote>
<h3><a class="header" href="#2-generate-cordapp-dependencies" id="2-generate-cordapp-dependencies">2. Generate CorDapp dependencies</a></h3>
<p>CorDapp responder flows have compile time and runtime dependency on their corresponding initiator flows, however since flows are private to each organization, Tibco Dovetail generates a base initator class without implementation details and can be shared with business partners.</p>
<p>run following command from iou_tutorial folder</p>
<h4><a class="header" href="#21-charlie" id="21-charlie">2.1 charlie</a></h4>
<pre><code class="language-bash">dovetail corda dapp generate -m artifacts/charlie.json -v 1.0.0 -t artifacts/corda --namespace com.charlie.iou.flows --api
</code></pre>
<h4><a class="header" href="#22-alice" id="22-alice">2.2 alice</a></h4>
<pre><code class="language-bash">dovetail corda dapp generate -m artifacts/alice.json -v 1.0.0 -t artifacts/corda --namespace com.alice.iou.flows --api
</code></pre>
<h3><a class="header" href="#3-create-dependency-pom-file-for-each-organization" id="3-create-dependency-pom-file-for-each-organization">3. Create dependency pom file for each organization</a></h3>
<h4><a class="header" href="#31-charlie" id="31-charlie">3.1 charlie</a></h4>
<p>copy following to artifacts/charlie.pom file</p>
<pre><code class="language-javascript">&lt;dependency&gt;
    &lt;groupId&gt;com.alice.iou.flows&lt;/groupId&gt;
    &lt;artifactId&gt;alice-api&lt;/artifactId&gt;
    &lt;version&gt;1.0.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h4><a class="header" href="#32-alice" id="32-alice">3.2 alice</a></h4>
<p>copy following to artifacts/alice.pom file</p>
<pre><code class="language-javascript">&lt;dependency&gt;
    &lt;groupId&gt;com.charlie.iou.flows&lt;/groupId&gt;
    &lt;artifactId&gt;charlie-api&lt;/artifactId&gt;
    &lt;version&gt;1.0.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h4><a class="header" href="#32-bob" id="32-bob">3.2 bob</a></h4>
<p>copy following to artifacts/bob.pom file</p>
<pre><code class="language-javascript">&lt;dependency&gt;
    &lt;groupId&gt;com.charlie.iou.flows&lt;/groupId&gt;
    &lt;artifactId&gt;charlie-api&lt;/artifactId&gt;
    &lt;version&gt;1.0.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.alice.iou.flows&lt;/groupId&gt;
    &lt;artifactId&gt;alice-api&lt;/artifactId&gt;
    &lt;version&gt;1.0.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h3><a class="header" href="#4-generate-cordapps" id="4-generate-cordapps">4. Generate CorDapps</a></h3>
<p>run following command from iou_tutorial folder</p>
<h3><a class="header" href="#41-charlie" id="41-charlie">4.1 charlie</a></h3>
<pre><code class="language-bash">dovetail corda dapp generate -m artifacts/charlie.json -v 1.0.0 -t artifacts/corda --namespace com.charlie.iou.flows --dependency-file artifacts/charlie.pom
</code></pre>
<h3><a class="header" href="#42-alice" id="42-alice">4.2 alice</a></h3>
<pre><code class="language-bash">dovetail corda dapp generate -m artifacts/alice.json -v 1.0.0 -t artifacts/corda --namespace com.alice.iou.flows --dependency-file alice.pom
</code></pre>
<h3><a class="header" href="#43-bob" id="43-bob">4.3 bob</a></h3>
<pre><code class="language-bash">dovetail corda dapp generate -m artifacts/bob.json -v 1.0.0 -t artifacts/corda --namespace com.bob.iou.flows --dependency-file bob.pom
</code></pre>
<h2><a class="header" href="#generate-corda-client" id="generate-corda-client">Generate Corda Client</a></h2>
<p>Dovetail ClI generates RPC client from CorDApp flows and Smart contract metadata, the generated client is a standalone springboot web server that exposes REST APIs to allow applications to invoke CorDapp flows.</p>
<p>The generated client also contains an embedded event streaming service to pulish vault state changes to specified messaging service, at present, only TIBCO Cloud Messaging is supported, use commandline --streaming eftl to enable streaming service. </p>
<h3><a class="header" href="#1-create-dependency-pom-file" id="1-create-dependency-pom-file">1 Create dependency pom file</a></h3>
<p>copy following to artifacts/iou.pom file</p>
<pre><code class="language-javascript">&lt;dependency&gt;
    &lt;groupId&gt;com.example.iou&lt;/groupId&gt;
    &lt;artifactId&gt;IOU&lt;/artifactId&gt;
    &lt;version&gt;1.0.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h3><a class="header" href="#2-generate-corda-client" id="2-generate-corda-client">2. Generate Corda Client</a></h3>
<p>run following command from iou_tutorial folder, a web client is generated for charlie, alice and bob. The last command is to generate a generic web client than will be used for party 'bank' to issue and transfer cash.</p>
<h3><a class="header" href="#21-charlie-1" id="21-charlie-1">2.1. charlie</a></h3>
<pre><code class="language-bash">dovetail corda client generate --cordapp-json artifacts/charlie.json --smartcontract-json artifacts/IOU.json -v 1.0.0 -t artifacts/corda --cordapp-ns com.charlie.iou.flows --dependency-file artifacts/iou.pom --streaming none
</code></pre>
<h3><a class="header" href="#22-alice-1" id="22-alice-1">2.2. alice</a></h3>
<pre><code class="language-bash">dovetail corda client generate --cordapp-json artifacts/alice.json --smartcontract-json artifacts/IOU.json -v 1.0.0 -t artifacts/corda --cordapp-ns com.alice.iou.flows --dependency-file artifacts/iou.pom --streaming none
</code></pre>
<h3><a class="header" href="#23-bob" id="23-bob">2.3. bob</a></h3>
<pre><code class="language-bash">dovetail corda client generate --cordapp-json artifacts/bob.json --smartcontract-json artifacts/IOU.json -v 1.0.0 -t artifacts/corda --cordapp-ns com.bob.iou.flows --dependency-file artifacts/iou.pom --streaming none
</code></pre>
<h3><a class="header" href="#24-bank" id="24-bank">2.4. bank</a></h3>
<pre><code class="language-bash">dovetail corda client generate -v 1.0.0 -t artifacts/corda
</code></pre>
<h2><a class="header" href="#test-iou-smart-contract-and-dapp-flows-on-corda" id="test-iou-smart-contract-and-dapp-flows-on-corda">Test IOU Smart Contract and dapp flows on Corda</a></h2>
<h2><a class="header" href="#start-up-corda-network" id="start-up-corda-network">Start up corda network</a></h2>
<h3><a class="header" href="#1-run-code-nodes" id="1-run-code-nodes">1 Run code nodes</a></h3>
<p>from your cli folder, run following commands, check logs under network/corda/nodes/*/log to verify that each node has been started</p>
<blockquote>
<ul>
<li>./network_clean.sh to clean up logs and vault database</li>
<li>./network_start.sh to start up nodes</li>
</ul>
</blockquote>
<p>to stop all nodes, run following command</p>
<blockquote>
<ul>
<li>./network_stop.sh to shutdown all nodes</li>
</ul>
</blockquote>
<h3><a class="header" href="#2-start-up-web-clients" id="2-start-up-web-clients">2 Start up web clients</a></h3>
<p>from your cli folder, run following command to start up all web servers, check cli/log to verify web servers are started.</p>
<blockquote>
<ul>
<li>./start_webservers.sh</li>
</ul>
</blockquote>
<p>from your cli folder, run following command to stop all web servers</p>
<blockquote>
<ul>
<li>./stop_webservers.sh</li>
</ul>
</blockquote>
<h3><a class="header" href="#3-open-swagger-ui" id="3-open-swagger-ui">3 Open swagger UI</a></h3>
<ul>
<li>alice: http://localhost:9000/swagger-ui.html</li>
<li>charlie : http://localhost:9001/swagger-ui.html</li>
<li>bob: http://localhost:9002/swagger-ui.html</li>
<li>bank: http://localhost:9004/swagger-ui.html</li>
</ul>
<h2><a class="header" href="#test-iou-smart-contract-and-dapp-on-corda" id="test-iou-smart-contract-and-dapp-on-corda">Test IOU Smart Contract and dapp on Corda</a></h2>
<h3><a class="header" href="#1-issue-cash" id="1-issue-cash">1 Issue cash</a></h3>
<p>Use bank's swagger UI to issue and transfer cash to charlie. </p>
<ul>
<li>
<p>go to security-controller section</p>
<ul>
<li>login method
<ul>
<li>username = user1, password = test</li>
</ul>
</li>
<li>execute</li>
</ul>
</li>
<li>
<p>go to cash-controller section</p>
<ul>
<li>/cash/flow/issue-payment method
<ul>
<li>Authorizarion: copy the token value from login output, without the quotes</li>
<li>Input:
<pre><code>{
    &quot;amount&quot;: {
        &quot;quantity&quot;: 100000,
        &quot;currency&quot;: &quot;USD&quot;
    },
    &quot;issuerRef&quot;: &quot;00&quot;,
    &quot;recipient&quot;: &quot;O=charlie,L=New York,C=US&quot;,
    &quot;anonymous&quot;: false,
    &quot;notary&quot;: &quot;O=Notary,L=London,C=GB&quot;
}  
</code></pre>
</li>
<li>execute, if successful, you should see output similar to following</li>
</ul>
<pre><code>{
    &quot;transactionId&quot;: &quot;FC85B7E74E8D9A4BDD39A2D83FA2C41C4CB57A296E43A3B5D9AF08FC7CF06E1B&quot;
}  
</code></pre>
</li>
</ul>
</li>
</ul>
<h3><a class="header" href="#2-issue-an-iou" id="2-issue-an-iou">2 Issue an IOU</a></h3>
<p>Use charlie's swagger UI to issue an IOU</p>
<ul>
<li>
<p>go to security-controller section</p>
<ul>
<li>login method
<ul>
<li>username = user1, password = test</li>
</ul>
</li>
<li>execute</li>
</ul>
</li>
<li>
<p>go to query-controller section</p>
<ul>
<li>/query/states</li>
<li>Authorizarion: copy the token value from login output, without the quotes</li>
<li>execute, you should see cash is in the vault</li>
</ul>
</li>
<li>
<p>go to main-controller section</p>
<ul>
<li>/api/issueiouinitiatort method
<ul>
<li>Authorizarion: copy the token value from login output, without the quotes</li>
<li>Input:</li>
</ul>
<pre><code>{
    &quot;holder&quot;: &quot;O=alice,L=New York,C=US&quot;,
    &quot;amt&quot;: {
        &quot;quantity&quot;: 10000,
        &quot;currency&quot;: &quot;USD&quot;
    },
    &quot;extId&quot;: &quot;iou1&quot;
}
</code></pre>
<ul>
<li>execute</li>
</ul>
</li>
</ul>
</li>
<li>
<p>go to query-controller section</p>
<ul>
<li>/query/states</li>
<li>Authorizarion: copy the token value from login output, without the quotes</li>
<li>execute, you should see com.example.iou.IOU is now in the vault</li>
</ul>
</li>
</ul>
<h3><a class="header" href="#3-transfer-the-iou" id="3-transfer-the-iou">3 Transfer the IOU</a></h3>
<p>Use alice's swagger to transfer IOU to bob. </p>
<ul>
<li>
<p>go to security-controller section</p>
<ul>
<li>login method
<ul>
<li>username = user1, password = test</li>
</ul>
</li>
<li>execute</li>
</ul>
</li>
<li>
<p>go to query-controller section</p>
<ul>
<li>/query/states</li>
<li>Authorizarion: copy the token value from login output, without the quotes</li>
<li>execute, you should see com.example.iou.IOU in the output, copy the linearId.id value</li>
</ul>
</li>
<li>
<p>go to main-controller section</p>
<ul>
<li>/api/transferiouinitiator
<ul>
<li>Authorizarion: copy the token value from login output, without the quotes</li>
<li>Input</li>
</ul>
<pre><code>{
    &quot;iouId&quot;: {
        &quot;externalId&quot;: &quot;iou1&quot;,
        &quot;id&quot;: &quot;paste the linearId.id value here&quot;
    },
    &quot;newHoder&quot;: &quot;O=bob,L=New York,C=US&quot;
}
</code></pre>
<ul>
<li>execute</li>
</ul>
</li>
</ul>
</li>
<li>
<p>go to query-controller section</p>
<ul>
<li>/query/states</li>
<li>Authorizarion: copy the token value from login output, without the quotes</li>
<li>execute, com.example.iou.IOU is no longer in the vault</li>
</ul>
</li>
</ul>
<h3><a class="header" href="#4-settle-the-iou" id="4-settle-the-iou">4 Settle the IOU</a></h3>
<p>Use charlie's swagger UI to settle the IOU with cash</p>
<ul>
<li>go to main-controller section
<ul>
<li>/api/settleiouinitiator method
<ul>
<li>Authorizarion: copy the token value from login output, without the quotes</li>
<li>Input:</li>
</ul>
<pre><code>{
    &quot;iouId&quot;: {
        &quot;externalId&quot;: &quot;iou1&quot;,
        &quot;id&quot;: &quot;copy iou linearId.id value here&quot;
    }
}
</code></pre>
</li>
<li>go to query-controller section
<ul>
<li>/query/states</li>
<li>Authorizarion: copy the token value from login output, without the quotes</li>
<li>execute, com.example.iou.IOU is no longer in the vault, and cash amount is reduced by $100</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="header" href="#fabric-samples-and-tutorials" id="fabric-samples-and-tutorials">Fabric Samples and Tutorials</a></h2>
<p>You can follow Hyperledger Fabric samples and tutorials in our <a href="https://github.com/TIBCOSoftware/dovetail-contrib/tree/develop/hyperledger-fabric#getting-started">Dovetail Contrib</a> repository.</p>
<h1><a class="header" href="#contributing-to-project-dovetail" id="contributing-to-project-dovetail">Contributing to Project Dovetail</a></h1>
<p>Are you interested in contributing to Project Dovetail? If so, this doc was created specifically for you! If you‚Äôre not ready to start contributing code, no problem, feel free to check out the <a href="https://github.com/TIBCOSoftware/Dovetail/labels/kind%2Fdocs">documentation issues</a> and begin by helping enhance the documentation!</p>
<p>If you‚Äôre ready and interested to make code contributions, please contact tibcolabs@tibco.com.</p>
<h1><a class="header" href="#dovetail-source-code-projects" id="dovetail-source-code-projects">Dovetail Source Code Projects</a></h1>
<p>Project Dovetail‚Ñ¢ consists of the following sub-projects available as separate repos:</p>
<ul>
<li><a href="https://github.com/TIBCOSoftware/dovetail">dovetail</a>:  Documentation repository and release for dovetail studio UI</li>
<li><a href="https://github.com/TIBCOSoftware/dovetail-cli">dovetail-cli</a>:  Command line tools for building Dovetail apps &amp; extensions</li>
<li><a href="https://github.com/TIBCOSoftware/dovetail-contrib">dovetail-contrib</a>: Dovetail contributions/extensions</li>
<li><a href="https://github.com/TIBCOSoftware/dovetail-java-lib">dovetail-java-lib</a>: Dovetail java runtime for smart contract flows</li>
</ul>
<h1><a class="header" href="#dovetail-community" id="dovetail-community">Dovetail Community</a></h1>
<p>You can contact us using one of the following channels:</p>
<p>Email: <a href="mailto:tibcolabs@tibco.com">tibcolabs@tibco.com</a></p>
<p>Tibcommunity: <a href="https://community.tibco.com/modules/project-dovetail">Web Page</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
